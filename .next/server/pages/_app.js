(()=>{var e={};e.id=2888,e.ids=[2888],e.modules={7440:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(997),i=s(1649),a=s(6689),o=s(1163);let n=(0,a.createContext)(void 0),l=({children:e})=>{let{data:r,status:s}=(0,i.useSession)(),a=(0,o.useRouter)(),l=r?.user?{id:r.user.id,email:r.user.email,name:r.user.name,phone:r.user.phone,walletBalance:r.user.walletBalance,bonusWallet:r.user.bonusWallet,totalReferrals:r.user.totalReferrals,referralCode:r.user.referralCode,emailVerified:r.user.emailVerified,role:r.user.role}:null,u=async(e,r)=>{let s=await (0,i.signIn)("credentials",{email:e,password:r,redirect:!1});if(s?.error)throw Error(s.error);s?.ok&&a.push("/dashboard")},c=async e=>{try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();if(!r.ok)throw Error(s.message||"Registration failed");return{needsVerification:s.needsVerification}}catch(e){throw console.error("Registration error:",e),Error(e.message||"Registration failed")}},d=async()=>{let{data:e}=await fetch("/api/auth/session").then(e=>e.json());e&&a.reload()};return t.jsx(n.Provider,{value:{user:l,loading:"loading"===s,login:u,register:c,logout:()=>{(0,i.signOut)({callbackUrl:"/"})},refreshUser:d},children:e})};function u({Component:e,pageProps:{session:r,...s}}){return t.jsx(i.SessionProvider,{session:r,children:t.jsx(l,{children:t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsx(e,{...s})})})})}s(6764)},6764:()=>{},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[4567,1163],()=>s(7440));module.exports=t})();