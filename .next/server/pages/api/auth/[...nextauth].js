"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "@nhost/nhost-js":
/*!**********************************!*\
  !*** external "@nhost/nhost-js" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("@nhost/nhost-js");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auth\\[...nextauth].ts */ \"(api)/./pages/api/auth/[...nextauth].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXV0aCU1QyU1Qi4uLm5leHRhdXRoJTVELnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2lFO0FBQ2pFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvdmVudi1uZXh0anMvPzJmMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/direct-db.ts":
/*!**************************!*\
  !*** ./lib/direct-db.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   directDb: () => (/* binding */ directDb)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n// Direct PostgreSQL database connection for authentication\n// This bypasses Nhost GraphQL and connects directly to the database\n\n\nclass DirectDatabaseConnection {\n    constructor(){\n        this.pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n            host: \"sbpnfqrsnvtyvkgldcco.db.eu-central-1.nhost.run\",\n            port: parseInt(\"5432\" || 0),\n            database: \"sbpnfqrsnvtyvkgldcco\",\n            user: \"postgres\",\n            password: \"Provenvalueenterprise@123!\",\n            ssl: \"true\" === \"true\",\n            max: 10,\n            min: 2,\n            idleTimeoutMillis: 60000,\n            connectionTimeoutMillis: 10000,\n            query_timeout: 30000,\n            allowExitOnIdle: true\n        });\n        // Test connection on initialization\n        this.testConnection();\n    }\n    async testConnection() {\n        try {\n            const client = await this.pool.connect();\n            console.log(\"✅ Direct PostgreSQL connection established\");\n            client.release();\n        } catch (error) {\n            console.error(\"❌ Direct PostgreSQL connection failed:\", error);\n        }\n    }\n    // Find user by email with profile data\n    async findUserByEmail(email) {\n        try {\n            const query = `\r\n        SELECT\r\n          u.id,\r\n          u.display_name,\r\n          u.email,\r\n          u.phone_number,\r\n          u.password_hash,\r\n          u.email_verified,\r\n          u.created_at,\r\n          up.phone,\r\n          up.wallet_balance,\r\n          up.bonus_wallet,\r\n          up.total_referrals,\r\n          up.referral_code,\r\n          up.fast_track_eligible,\r\n          up.fast_track_activated\r\n        FROM auth.users u\r\n        LEFT JOIN public.users_profiles up ON u.id = up.user_id\r\n        WHERE u.email = $1\r\n      `;\n            const result = await this.pool.query(query, [\n                email\n            ]);\n            if (result.rows.length === 0) {\n                return null;\n            }\n            const row = result.rows[0];\n            return {\n                id: row.id,\n                display_name: row.display_name,\n                email: row.email,\n                phone_number: row.phone_number,\n                password_hash: row.password_hash,\n                email_verified: row.email_verified,\n                created_at: row.created_at,\n                phone: row.phone,\n                wallet_balance: row.wallet_balance || 0,\n                bonus_wallet: row.bonus_wallet || 0,\n                total_referrals: row.total_referrals || 0,\n                referral_code: row.referral_code,\n                fast_track_eligible: row.fast_track_eligible || false,\n                fast_track_activated: row.fast_track_activated || false\n            };\n        } catch (error) {\n            console.error(\"Error finding user by email:\", error);\n            return null;\n        }\n    }\n    // Find user by phone number with profile data\n    async findUserByPhone(phone) {\n        try {\n            const query = `\r\n        SELECT\r\n          u.id,\r\n          u.display_name,\r\n          u.email,\r\n          u.phone_number,\r\n          u.password_hash,\r\n          u.email_verified,\r\n          u.created_at,\r\n          up.phone,\r\n          up.wallet_balance,\r\n          up.bonus_wallet,\r\n          up.total_referrals,\r\n          up.referral_code,\r\n          up.fast_track_eligible,\r\n          up.fast_track_activated\r\n        FROM auth.users u\r\n        LEFT JOIN public.users_profiles up ON u.id = up.user_id\r\n        WHERE u.phone_number = $1 OR up.phone = $1\r\n      `;\n            const result = await this.pool.query(query, [\n                phone\n            ]);\n            if (result.rows.length === 0) {\n                return null;\n            }\n            const row = result.rows[0];\n            return {\n                id: row.id,\n                display_name: row.display_name,\n                email: row.email,\n                phone_number: row.phone_number,\n                password_hash: row.password_hash,\n                email_verified: row.email_verified,\n                created_at: row.created_at,\n                phone: row.phone,\n                wallet_balance: row.wallet_balance || 0,\n                bonus_wallet: row.bonus_wallet || 0,\n                total_referrals: row.total_referrals || 0,\n                referral_code: row.referral_code,\n                fast_track_eligible: row.fast_track_eligible || false,\n                fast_track_activated: row.fast_track_activated || false\n            };\n        } catch (error) {\n            console.error(\"❌ Error finding user by email:\", error);\n            return null;\n        }\n    }\n    // Create new user\n    async createUser(userData) {\n        const client = await this.pool.connect();\n        try {\n            await client.query(\"BEGIN\");\n            // Hash the password\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(userData.password, 12);\n            // Insert into users table first\n            const userQuery = `\r\n        INSERT INTO auth.users (\r\n          display_name,\r\n          email,\r\n          phone_number,\r\n          password_hash,\r\n          email_verified,\r\n          phone_number_verified,\r\n          locale,\r\n          avatar_url\r\n        ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\r\n        RETURNING id, display_name, email, phone_number, password_hash, email_verified, created_at\r\n      `;\n            const userValues = [\n                userData.display_name,\n                userData.email || null,\n                userData.phone_number || null,\n                hashedPassword,\n                false,\n                false,\n                \"en\",\n                \"\"\n            ];\n            const userResult = await client.query(userQuery, userValues);\n            const newUser = userResult.rows[0];\n            // Generate referral code\n            const referralCode = this.generateReferralCode();\n            // Insert into users_profiles table\n            const profileQuery = `\r\n        INSERT INTO public.users_profiles (\r\n          user_id,\r\n          email,\r\n          first_name,\r\n          last_name,\r\n          full_name,\r\n          phone,\r\n          wallet_balance,\r\n          bonus_wallet,\r\n          total_referrals,\r\n          referral_code,\r\n          fast_track_eligible,\r\n          fast_track_activated\r\n        ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)\r\n        RETURNING *\r\n      `;\n            // Split display name into first and last name\n            const fullName = userData.display_name || \"User\";\n            const nameParts = fullName.split(\" \");\n            const firstName = nameParts[0] || \"User\";\n            const lastName = nameParts.slice(1).join(\" \") || \"\";\n            const profileValues = [\n                newUser.id,\n                userData.email,\n                firstName,\n                lastName,\n                fullName,\n                userData.phone || null,\n                0,\n                0,\n                0,\n                referralCode,\n                false,\n                false\n            ];\n            const profileResult = await client.query(profileQuery, profileValues);\n            const newProfile = profileResult.rows[0];\n            await client.query(\"COMMIT\");\n            // Return combined user data\n            return {\n                id: newUser.id,\n                display_name: newUser.display_name,\n                email: newUser.email,\n                phone_number: newUser.phone_number,\n                password_hash: newUser.password_hash,\n                email_verified: newUser.email_verified,\n                created_at: newUser.created_at,\n                phone: newProfile.phone,\n                wallet_balance: newProfile.wallet_balance,\n                bonus_wallet: newProfile.bonus_wallet,\n                total_referrals: newProfile.total_referrals,\n                referral_code: newProfile.referral_code,\n                fast_track_eligible: newProfile.fast_track_eligible,\n                fast_track_activated: newProfile.fast_track_activated\n            };\n        } catch (error) {\n            await client.query(\"ROLLBACK\");\n            console.error(\"❌ Error creating user:\", error);\n            // Re-throw the error to preserve constraint violation details\n            throw error;\n        } finally{\n            client.release();\n        }\n    }\n    // Verify user password\n    async verifyPassword(email, password) {\n        try {\n            const user = await this.findUserByEmail(email);\n            if (!user || !user.password_hash) {\n                return false;\n            }\n            return await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, user.password_hash);\n        } catch (error) {\n            console.error(\"❌ Error verifying password:\", error);\n            return false;\n        }\n    }\n    // Verify user password by phone\n    async verifyPasswordByPhone(phone, password) {\n        try {\n            const user = await this.findUserByPhone(phone);\n            if (!user || !user.password_hash) {\n                return false;\n            }\n            return await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, user.password_hash);\n        } catch (error) {\n            console.error(\"❌ Error verifying password by phone:\", error);\n            return false;\n        }\n    }\n    // Update user profile\n    async updateUserProfile(userId, updates) {\n        const client = await this.pool.connect();\n        try {\n            await client.query(\"BEGIN\");\n            // Separate updates for users table and users_profiles table\n            const userUpdates = {};\n            const profileUpdates = {};\n            Object.entries(updates).forEach(([key, value])=>{\n                if ([\n                    \"display_name\",\n                    \"email\",\n                    \"phone_number\",\n                    \"password_hash\",\n                    \"email_verified\"\n                ].includes(key)) {\n                    userUpdates[key] = value;\n                } else if ([\n                    \"phone\",\n                    \"wallet_balance\",\n                    \"bonus_wallet\",\n                    \"total_referrals\",\n                    \"referral_code\",\n                    \"fast_track_eligible\",\n                    \"fast_track_activated\"\n                ].includes(key)) {\n                    profileUpdates[key] = value;\n                }\n            });\n            // Update users table\n            if (Object.keys(userUpdates).length > 0) {\n                const userFields = Object.keys(userUpdates).map((key, index)=>`${key} = $${index + 1}`).join(\", \");\n                const userValues = Object.values(userUpdates);\n                userValues.push(userId);\n                const userQuery = `UPDATE auth.users SET ${userFields} WHERE id = $${userValues.length}`;\n                await client.query(userQuery, userValues);\n            }\n            // Update users_profiles table\n            if (Object.keys(profileUpdates).length > 0) {\n                const profileFields = Object.keys(profileUpdates).map((key, index)=>`${key} = $${index + 1}`).join(\", \");\n                const profileValues = Object.values(profileUpdates);\n                profileValues.push(userId);\n                const profileQuery = `UPDATE public.users_profiles SET ${profileFields} WHERE user_id = $${profileValues.length}`;\n                await client.query(profileQuery, profileValues);\n            }\n            await client.query(\"COMMIT\");\n            return true;\n        } catch (error) {\n            await client.query(\"ROLLBACK\");\n            console.error(\"❌ Error updating user profile:\", error);\n            return false;\n        } finally{\n            client.release();\n        }\n    }\n    // Generate referral code\n    generateReferralCode() {\n        return Math.random().toString(36).substring(2, 8).toUpperCase();\n    }\n    // Get a database client connection (for advanced queries)\n    async getClient() {\n        return await this.pool.connect();\n    }\n    // Close connection pool\n    async close() {\n        await this.pool.end();\n    }\n}\n// Export singleton instance\nconst directDb = new DirectDatabaseConnection();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (directDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxDQUFDWDtnQkFDcENWLGNBQWNzQixJQUFJLENBQUNmO2dCQUVuQixNQUFNZixlQUFlLENBQUMsaUNBQWlDLEVBQUUrQixjQUFjLGtCQUFrQixFQUFFdkIsY0FBY2xDLE1BQU0sQ0FBQyxDQUFDO2dCQUNqSCxNQUFNWCxPQUFPUSxLQUFLLENBQUM2QixjQUFjUTtZQUNuQztZQUVBLE1BQU03QyxPQUFPUSxLQUFLLENBQUM7WUFDbkIsT0FBTztRQUNULEVBQUUsT0FBT0gsT0FBTztZQUNkLE1BQU1MLE9BQU9RLEtBQUssQ0FBQztZQUNuQk4sUUFBUUcsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsT0FBTztRQUNULFNBQVU7WUFDUkwsT0FBT0ksT0FBTztRQUNoQjtJQUNGO0lBRUEseUJBQXlCO0lBQ2pCZ0MsdUJBQStCO1FBQ3JDLE9BQU9pQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRyxHQUFHQyxXQUFXO0lBQy9EO0lBRUEsMERBQTBEO0lBQzFELE1BQU1DLFlBQVk7UUFDaEIsT0FBTyxNQUFNLElBQUksQ0FBQ2pHLElBQUksQ0FBQ3dCLE9BQU87SUFDaEM7SUFFQSx3QkFBd0I7SUFDeEIsTUFBTTBFLFFBQVE7UUFDWixNQUFNLElBQUksQ0FBQ2xHLElBQUksQ0FBQ21HLEdBQUc7SUFDckI7QUFDRjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNQyxXQUFXLElBQUl0RywyQkFBMkI7QUFDdkQsaUVBQWVzRyxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvdmVudi1uZXh0anMvLi9saWIvZGlyZWN0LWRiLnRzPzMzZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGlyZWN0IFBvc3RncmVTUUwgZGF0YWJhc2UgY29ubmVjdGlvbiBmb3IgYXV0aGVudGljYXRpb25cclxuLy8gVGhpcyBieXBhc3NlcyBOaG9zdCBHcmFwaFFMIGFuZCBjb25uZWN0cyBkaXJlY3RseSB0byB0aGUgZGF0YWJhc2VcclxuXHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tICdwZyc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheV9uYW1lOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XHJcbiAgcGFzc3dvcmRfaGFzaDogc3RyaW5nO1xyXG4gIGVtYWlsX3ZlcmlmaWVkOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRfYXQ6IERhdGU7XHJcbiAgLy8gUHJvZmlsZSBkYXRhIGZyb20gdXNlcnNfcHJvZmlsZXMgdGFibGVcclxuICBwaG9uZT86IHN0cmluZztcclxuICB3YWxsZXRfYmFsYW5jZT86IG51bWJlcjtcclxuICBib251c193YWxsZXQ/OiBudW1iZXI7XHJcbiAgdG90YWxfcmVmZXJyYWxzPzogbnVtYmVyO1xyXG4gIHJlZmVycmFsX2NvZGU/OiBzdHJpbmc7XHJcbiAgZmFzdF90cmFja19lbGlnaWJsZT86IGJvb2xlYW47XHJcbiAgZmFzdF90cmFja19hY3RpdmF0ZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5jbGFzcyBEaXJlY3REYXRhYmFzZUNvbm5lY3Rpb24ge1xyXG4gIHByaXZhdGUgcG9vbDogUG9vbDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXHJcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzU0MzInKSxcclxuICAgICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXHJcbiAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXHJcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcclxuICAgICAgc3NsOiBwcm9jZXNzLmVudi5EQl9TU0wgPT09ICd0cnVlJyxcclxuICAgICAgbWF4OiAxMCwgLy8gUmVkdWNlZCBmcm9tIDIwXHJcbiAgICAgIG1pbjogMiwgLy8gTWluaW11bSBjb25uZWN0aW9uc1xyXG4gICAgICBpZGxlVGltZW91dE1pbGxpczogNjAwMDAsIC8vIEluY3JlYXNlZCBmcm9tIDMwMDAwXHJcbiAgICAgIGNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzOiAxMDAwMCwgLy8gSW5jcmVhc2VkIGZyb20gMjAwMFxyXG4gICAgICBxdWVyeV90aW1lb3V0OiAzMDAwMCwgLy8gVGltZW91dCBmb3IgcXVlcmllc1xyXG4gICAgICBhbGxvd0V4aXRPbklkbGU6IHRydWVcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRlc3QgY29ubmVjdGlvbiBvbiBpbml0aWFsaXphdGlvblxyXG4gICAgdGhpcy50ZXN0Q29ubmVjdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyB0ZXN0Q29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMucG9vbC5jb25uZWN0KCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGlyZWN0IFBvc3RncmVTUUwgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCcpO1xyXG4gICAgICBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIERpcmVjdCBQb3N0Z3JlU1FMIGNvbm5lY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbmQgdXNlciBieSBlbWFpbCB3aXRoIHByb2ZpbGUgZGF0YVxyXG4gIGFzeW5jIGZpbmRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSBgXHJcbiAgICAgICAgU0VMRUNUXHJcbiAgICAgICAgICB1LmlkLFxyXG4gICAgICAgICAgdS5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgICB1LmVtYWlsLFxyXG4gICAgICAgICAgdS5waG9uZV9udW1iZXIsXHJcbiAgICAgICAgICB1LnBhc3N3b3JkX2hhc2gsXHJcbiAgICAgICAgICB1LmVtYWlsX3ZlcmlmaWVkLFxyXG4gICAgICAgICAgdS5jcmVhdGVkX2F0LFxyXG4gICAgICAgICAgdXAucGhvbmUsXHJcbiAgICAgICAgICB1cC53YWxsZXRfYmFsYW5jZSxcclxuICAgICAgICAgIHVwLmJvbnVzX3dhbGxldCxcclxuICAgICAgICAgIHVwLnRvdGFsX3JlZmVycmFscyxcclxuICAgICAgICAgIHVwLnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgICB1cC5mYXN0X3RyYWNrX2VsaWdpYmxlLFxyXG4gICAgICAgICAgdXAuZmFzdF90cmFja19hY3RpdmF0ZWRcclxuICAgICAgICBGUk9NIGF1dGgudXNlcnMgdVxyXG4gICAgICAgIExFRlQgSk9JTiBwdWJsaWMudXNlcnNfcHJvZmlsZXMgdXAgT04gdS5pZCA9IHVwLnVzZXJfaWRcclxuICAgICAgICBXSEVSRSB1LmVtYWlsID0gJDFcclxuICAgICAgYDtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucG9vbC5xdWVyeShxdWVyeSwgW2VtYWlsXSk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJvdyA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiByb3cuaWQsXHJcbiAgICAgICAgZGlzcGxheV9uYW1lOiByb3cuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgIGVtYWlsOiByb3cuZW1haWwsXHJcbiAgICAgICAgcGhvbmVfbnVtYmVyOiByb3cucGhvbmVfbnVtYmVyLFxyXG4gICAgICAgIHBhc3N3b3JkX2hhc2g6IHJvdy5wYXNzd29yZF9oYXNoLFxyXG4gICAgICAgIGVtYWlsX3ZlcmlmaWVkOiByb3cuZW1haWxfdmVyaWZpZWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgcGhvbmU6IHJvdy5waG9uZSxcclxuICAgICAgICB3YWxsZXRfYmFsYW5jZTogcm93LndhbGxldF9iYWxhbmNlIHx8IDAsXHJcbiAgICAgICAgYm9udXNfd2FsbGV0OiByb3cuYm9udXNfd2FsbGV0IHx8IDAsXHJcbiAgICAgICAgdG90YWxfcmVmZXJyYWxzOiByb3cudG90YWxfcmVmZXJyYWxzIHx8IDAsXHJcbiAgICAgICAgcmVmZXJyYWxfY29kZTogcm93LnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgZmFzdF90cmFja19lbGlnaWJsZTogcm93LmZhc3RfdHJhY2tfZWxpZ2libGUgfHwgZmFsc2UsXHJcbiAgICAgICAgZmFzdF90cmFja19hY3RpdmF0ZWQ6IHJvdy5mYXN0X3RyYWNrX2FjdGl2YXRlZCB8fCBmYWxzZSxcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpbmRpbmcgdXNlciBieSBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRmluZCB1c2VyIGJ5IHBob25lIG51bWJlciB3aXRoIHByb2ZpbGUgZGF0YVxyXG4gIGFzeW5jIGZpbmRVc2VyQnlQaG9uZShwaG9uZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSBgXHJcbiAgICAgICAgU0VMRUNUXHJcbiAgICAgICAgICB1LmlkLFxyXG4gICAgICAgICAgdS5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgICB1LmVtYWlsLFxyXG4gICAgICAgICAgdS5waG9uZV9udW1iZXIsXHJcbiAgICAgICAgICB1LnBhc3N3b3JkX2hhc2gsXHJcbiAgICAgICAgICB1LmVtYWlsX3ZlcmlmaWVkLFxyXG4gICAgICAgICAgdS5jcmVhdGVkX2F0LFxyXG4gICAgICAgICAgdXAucGhvbmUsXHJcbiAgICAgICAgICB1cC53YWxsZXRfYmFsYW5jZSxcclxuICAgICAgICAgIHVwLmJvbnVzX3dhbGxldCxcclxuICAgICAgICAgIHVwLnRvdGFsX3JlZmVycmFscyxcclxuICAgICAgICAgIHVwLnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgICB1cC5mYXN0X3RyYWNrX2VsaWdpYmxlLFxyXG4gICAgICAgICAgdXAuZmFzdF90cmFja19hY3RpdmF0ZWRcclxuICAgICAgICBGUk9NIGF1dGgudXNlcnMgdVxyXG4gICAgICAgIExFRlQgSk9JTiBwdWJsaWMudXNlcnNfcHJvZmlsZXMgdXAgT04gdS5pZCA9IHVwLnVzZXJfaWRcclxuICAgICAgICBXSEVSRSB1LnBob25lX251bWJlciA9ICQxIE9SIHVwLnBob25lID0gJDFcclxuICAgICAgYDtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucG9vbC5xdWVyeShxdWVyeSwgW3Bob25lXSk7XHJcblxyXG4gICAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJvdyA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiByb3cuaWQsXHJcbiAgICAgICAgZGlzcGxheV9uYW1lOiByb3cuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgIGVtYWlsOiByb3cuZW1haWwsXHJcbiAgICAgICAgcGhvbmVfbnVtYmVyOiByb3cucGhvbmVfbnVtYmVyLFxyXG4gICAgICAgIHBhc3N3b3JkX2hhc2g6IHJvdy5wYXNzd29yZF9oYXNoLFxyXG4gICAgICAgIGVtYWlsX3ZlcmlmaWVkOiByb3cuZW1haWxfdmVyaWZpZWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgcGhvbmU6IHJvdy5waG9uZSxcclxuICAgICAgICB3YWxsZXRfYmFsYW5jZTogcm93LndhbGxldF9iYWxhbmNlIHx8IDAsXHJcbiAgICAgICAgYm9udXNfd2FsbGV0OiByb3cuYm9udXNfd2FsbGV0IHx8IDAsXHJcbiAgICAgICAgdG90YWxfcmVmZXJyYWxzOiByb3cudG90YWxfcmVmZXJyYWxzIHx8IDAsXHJcbiAgICAgICAgcmVmZXJyYWxfY29kZTogcm93LnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgZmFzdF90cmFja19lbGlnaWJsZTogcm93LmZhc3RfdHJhY2tfZWxpZ2libGUgfHwgZmFsc2UsXHJcbiAgICAgICAgZmFzdF90cmFja19hY3RpdmF0ZWQ6IHJvdy5mYXN0X3RyYWNrX2FjdGl2YXRlZCB8fCBmYWxzZSxcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmaW5kaW5nIHVzZXIgYnkgZW1haWw6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBuZXcgdXNlclxyXG4gIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGE6IHtcclxuICAgIGRpc3BsYXlfbmFtZTogc3RyaW5nO1xyXG4gICAgZW1haWw6IHN0cmluZyB8IG51bGw7XHJcbiAgICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XHJcbiAgICBwYXNzd29yZDogc3RyaW5nO1xyXG4gICAgcGhvbmU/OiBzdHJpbmc7XHJcbiAgfSk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMucG9vbC5jb25uZWN0KCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdCRUdJTicpO1xyXG5cclxuICAgICAgLy8gSGFzaCB0aGUgcGFzc3dvcmRcclxuICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyRGF0YS5wYXNzd29yZCwgMTIpO1xyXG5cclxuICAgICAgLy8gSW5zZXJ0IGludG8gdXNlcnMgdGFibGUgZmlyc3RcclxuICAgICAgY29uc3QgdXNlclF1ZXJ5ID0gYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIGF1dGgudXNlcnMgKFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXIsXHJcbiAgICAgICAgICBwYXNzd29yZF9oYXNoLFxyXG4gICAgICAgICAgZW1haWxfdmVyaWZpZWQsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXJfdmVyaWZpZWQsXHJcbiAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgICBhdmF0YXJfdXJsXHJcbiAgICAgICAgKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOClcclxuICAgICAgICBSRVRVUk5JTkcgaWQsIGRpc3BsYXlfbmFtZSwgZW1haWwsIHBob25lX251bWJlciwgcGFzc3dvcmRfaGFzaCwgZW1haWxfdmVyaWZpZWQsIGNyZWF0ZWRfYXRcclxuICAgICAgYDtcclxuXHJcbiAgICAgIGNvbnN0IHVzZXJWYWx1ZXMgPSBbXHJcbiAgICAgICAgdXNlckRhdGEuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgIHVzZXJEYXRhLmVtYWlsIHx8IG51bGwsIC8vIENvbnZlcnQgZW1wdHkgc3RyaW5nIHRvIG51bGxcclxuICAgICAgICB1c2VyRGF0YS5waG9uZV9udW1iZXIgfHwgbnVsbCxcclxuICAgICAgICBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICBmYWxzZSwgLy8gZW1haWxfdmVyaWZpZWRcclxuICAgICAgICBmYWxzZSwgLy8gcGhvbmVfbnVtYmVyX3ZlcmlmaWVkXHJcbiAgICAgICAgJ2VuJywgLy8gbG9jYWxlXHJcbiAgICAgICAgJycsIC8vIGF2YXRhcl91cmxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHVzZXJSZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkodXNlclF1ZXJ5LCB1c2VyVmFsdWVzKTtcclxuICAgICAgY29uc3QgbmV3VXNlciA9IHVzZXJSZXN1bHQucm93c1swXTtcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIHJlZmVycmFsIGNvZGVcclxuICAgICAgY29uc3QgcmVmZXJyYWxDb2RlID0gdGhpcy5nZW5lcmF0ZVJlZmVycmFsQ29kZSgpO1xyXG5cclxuICAgICAgLy8gSW5zZXJ0IGludG8gdXNlcnNfcHJvZmlsZXMgdGFibGVcclxuICAgICAgY29uc3QgcHJvZmlsZVF1ZXJ5ID0gYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIHB1YmxpYy51c2Vyc19wcm9maWxlcyAoXHJcbiAgICAgICAgICB1c2VyX2lkLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBmaXJzdF9uYW1lLFxyXG4gICAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgcGhvbmUsXHJcbiAgICAgICAgICB3YWxsZXRfYmFsYW5jZSxcclxuICAgICAgICAgIGJvbnVzX3dhbGxldCxcclxuICAgICAgICAgIHRvdGFsX3JlZmVycmFscyxcclxuICAgICAgICAgIHJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgICBmYXN0X3RyYWNrX2VsaWdpYmxlLFxyXG4gICAgICAgICAgZmFzdF90cmFja19hY3RpdmF0ZWRcclxuICAgICAgICApIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEsICQxMilcclxuICAgICAgICBSRVRVUk5JTkcgKlxyXG4gICAgICBgO1xyXG5cclxuICAgICAgLy8gU3BsaXQgZGlzcGxheSBuYW1lIGludG8gZmlyc3QgYW5kIGxhc3QgbmFtZVxyXG4gICAgICBjb25zdCBmdWxsTmFtZSA9IHVzZXJEYXRhLmRpc3BsYXlfbmFtZSB8fCAnVXNlcidcclxuICAgICAgY29uc3QgbmFtZVBhcnRzID0gZnVsbE5hbWUuc3BsaXQoJyAnKVxyXG4gICAgICBjb25zdCBmaXJzdE5hbWUgPSBuYW1lUGFydHNbMF0gfHwgJ1VzZXInXHJcbiAgICAgIGNvbnN0IGxhc3ROYW1lID0gbmFtZVBhcnRzLnNsaWNlKDEpLmpvaW4oJyAnKSB8fCAnJ1xyXG5cclxuICAgICAgY29uc3QgcHJvZmlsZVZhbHVlcyA9IFtcclxuICAgICAgICBuZXdVc2VyLmlkLFxyXG4gICAgICAgIHVzZXJEYXRhLmVtYWlsLFxyXG4gICAgICAgIGZpcnN0TmFtZSxcclxuICAgICAgICBsYXN0TmFtZSxcclxuICAgICAgICBmdWxsTmFtZSxcclxuICAgICAgICB1c2VyRGF0YS5waG9uZSB8fCBudWxsLFxyXG4gICAgICAgIDAsIC8vIHdhbGxldF9iYWxhbmNlXHJcbiAgICAgICAgMCwgLy8gYm9udXNfd2FsbGV0XHJcbiAgICAgICAgMCwgLy8gdG90YWxfcmVmZXJyYWxzXHJcbiAgICAgICAgcmVmZXJyYWxDb2RlLFxyXG4gICAgICAgIGZhbHNlLCAvLyBmYXN0X3RyYWNrX2VsaWdpYmxlXHJcbiAgICAgICAgZmFsc2UsIC8vIGZhc3RfdHJhY2tfYWN0aXZhdGVkXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBwcm9maWxlUmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5KHByb2ZpbGVRdWVyeSwgcHJvZmlsZVZhbHVlcyk7XHJcbiAgICAgIGNvbnN0IG5ld1Byb2ZpbGUgPSBwcm9maWxlUmVzdWx0LnJvd3NbMF07XHJcblxyXG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0NPTU1JVCcpO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIGNvbWJpbmVkIHVzZXIgZGF0YVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBuZXdVc2VyLmlkLFxyXG4gICAgICAgIGRpc3BsYXlfbmFtZTogbmV3VXNlci5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgZW1haWw6IG5ld1VzZXIuZW1haWwsXHJcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBuZXdVc2VyLnBob25lX251bWJlcixcclxuICAgICAgICBwYXNzd29yZF9oYXNoOiBuZXdVc2VyLnBhc3N3b3JkX2hhc2gsXHJcbiAgICAgICAgZW1haWxfdmVyaWZpZWQ6IG5ld1VzZXIuZW1haWxfdmVyaWZpZWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3VXNlci5jcmVhdGVkX2F0LFxyXG4gICAgICAgIHBob25lOiBuZXdQcm9maWxlLnBob25lLFxyXG4gICAgICAgIHdhbGxldF9iYWxhbmNlOiBuZXdQcm9maWxlLndhbGxldF9iYWxhbmNlLFxyXG4gICAgICAgIGJvbnVzX3dhbGxldDogbmV3UHJvZmlsZS5ib251c193YWxsZXQsXHJcbiAgICAgICAgdG90YWxfcmVmZXJyYWxzOiBuZXdQcm9maWxlLnRvdGFsX3JlZmVycmFscyxcclxuICAgICAgICByZWZlcnJhbF9jb2RlOiBuZXdQcm9maWxlLnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgZmFzdF90cmFja19lbGlnaWJsZTogbmV3UHJvZmlsZS5mYXN0X3RyYWNrX2VsaWdpYmxlLFxyXG4gICAgICAgIGZhc3RfdHJhY2tfYWN0aXZhdGVkOiBuZXdQcm9maWxlLmZhc3RfdHJhY2tfYWN0aXZhdGVkLFxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdST0xMQkFDSycpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY3JlYXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZS10aHJvdyB0aGUgZXJyb3IgdG8gcHJlc2VydmUgY29uc3RyYWludCB2aW9sYXRpb24gZGV0YWlsc1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBWZXJpZnkgdXNlciBwYXNzd29yZFxyXG4gIGFzeW5jIHZlcmlmeVBhc3N3b3JkKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRVc2VyQnlFbWFpbChlbWFpbCk7XHJcbiAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZF9oYXNoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmRfaGFzaCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgdmVyaWZ5aW5nIHBhc3N3b3JkOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVmVyaWZ5IHVzZXIgcGFzc3dvcmQgYnkgcGhvbmVcclxuICBhc3luYyB2ZXJpZnlQYXNzd29yZEJ5UGhvbmUocGhvbmU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZmluZFVzZXJCeVBob25lKHBob25lKTtcclxuICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkX2hhc2gpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZF9oYXNoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2ZXJpZnlpbmcgcGFzc3dvcmQgYnkgcGhvbmU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBwcm9maWxlXHJcbiAgYXN5bmMgdXBkYXRlVXNlclByb2ZpbGUodXNlcklkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHRoaXMucG9vbC5jb25uZWN0KCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdCRUdJTicpO1xyXG5cclxuICAgICAgLy8gU2VwYXJhdGUgdXBkYXRlcyBmb3IgdXNlcnMgdGFibGUgYW5kIHVzZXJzX3Byb2ZpbGVzIHRhYmxlXHJcbiAgICAgIGNvbnN0IHVzZXJVcGRhdGVzOiBhbnkgPSB7fTtcclxuICAgICAgY29uc3QgcHJvZmlsZVVwZGF0ZXM6IGFueSA9IHt9O1xyXG5cclxuICAgICAgT2JqZWN0LmVudHJpZXModXBkYXRlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgaWYgKFsnZGlzcGxheV9uYW1lJywgJ2VtYWlsJywgJ3Bob25lX251bWJlcicsICdwYXNzd29yZF9oYXNoJywgJ2VtYWlsX3ZlcmlmaWVkJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgdXNlclVwZGF0ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoWydwaG9uZScsICd3YWxsZXRfYmFsYW5jZScsICdib251c193YWxsZXQnLCAndG90YWxfcmVmZXJyYWxzJywgJ3JlZmVycmFsX2NvZGUnLCAnZmFzdF90cmFja19lbGlnaWJsZScsICdmYXN0X3RyYWNrX2FjdGl2YXRlZCddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgIHByb2ZpbGVVcGRhdGVzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHVzZXJzIHRhYmxlXHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyh1c2VyVXBkYXRlcykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJGaWVsZHMgPSBPYmplY3Qua2V5cyh1c2VyVXBkYXRlcykubWFwKChrZXksIGluZGV4KSA9PiBgJHtrZXl9ID0gJCR7aW5kZXggKyAxfWApLmpvaW4oJywgJyk7XHJcbiAgICAgICAgY29uc3QgdXNlclZhbHVlcyA9IE9iamVjdC52YWx1ZXModXNlclVwZGF0ZXMpO1xyXG4gICAgICAgIHVzZXJWYWx1ZXMucHVzaCh1c2VySWQpO1xyXG5cclxuICAgICAgICBjb25zdCB1c2VyUXVlcnkgPSBgVVBEQVRFIGF1dGgudXNlcnMgU0VUICR7dXNlckZpZWxkc30gV0hFUkUgaWQgPSAkJHt1c2VyVmFsdWVzLmxlbmd0aH1gO1xyXG4gICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeSh1c2VyUXVlcnksIHVzZXJWYWx1ZXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdXNlcnNfcHJvZmlsZXMgdGFibGVcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHByb2ZpbGVVcGRhdGVzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgcHJvZmlsZUZpZWxkcyA9IE9iamVjdC5rZXlzKHByb2ZpbGVVcGRhdGVzKS5tYXAoKGtleSwgaW5kZXgpID0+IGAke2tleX0gPSAkJHtpbmRleCArIDF9YCkuam9pbignLCAnKTtcclxuICAgICAgICBjb25zdCBwcm9maWxlVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhwcm9maWxlVXBkYXRlcyk7XHJcbiAgICAgICAgcHJvZmlsZVZhbHVlcy5wdXNoKHVzZXJJZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVRdWVyeSA9IGBVUERBVEUgcHVibGljLnVzZXJzX3Byb2ZpbGVzIFNFVCAke3Byb2ZpbGVGaWVsZHN9IFdIRVJFIHVzZXJfaWQgPSAkJHtwcm9maWxlVmFsdWVzLmxlbmd0aH1gO1xyXG4gICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeShwcm9maWxlUXVlcnksIHByb2ZpbGVWYWx1ZXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0NPTU1JVCcpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnUk9MTEJBQ0snKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwZGF0aW5nIHVzZXIgcHJvZmlsZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmF0ZSByZWZlcnJhbCBjb2RlXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlZmVycmFsQ29kZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KS50b1VwcGVyQ2FzZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IGEgZGF0YWJhc2UgY2xpZW50IGNvbm5lY3Rpb24gKGZvciBhZHZhbmNlZCBxdWVyaWVzKVxyXG4gIGFzeW5jIGdldENsaWVudCgpIHtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvb2wuY29ubmVjdCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2xvc2UgY29ubmVjdGlvbiBwb29sXHJcbiAgYXN5bmMgY2xvc2UoKSB7XHJcbiAgICBhd2FpdCB0aGlzLnBvb2wuZW5kKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCBkaXJlY3REYiA9IG5ldyBEaXJlY3REYXRhYmFzZUNvbm5lY3Rpb24oKTtcclxuZXhwb3J0IGRlZmF1bHQgZGlyZWN0RGI7XHJcbiJdLCJuYW1lcyI6WyJQb29sIiwiYmNyeXB0IiwiRGlyZWN0RGF0YWJhc2VDb25uZWN0aW9uIiwiY29uc3RydWN0b3IiLCJwb29sIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwicG9ydCIsInBhcnNlSW50IiwiREJfUE9SVCIsImRhdGFiYXNlIiwiREJfTkFNRSIsInVzZXIiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsInNzbCIsIkRCX1NTTCIsIm1heCIsIm1pbiIsImlkbGVUaW1lb3V0TWlsbGlzIiwiY29ubmVjdGlvblRpbWVvdXRNaWxsaXMiLCJxdWVyeV90aW1lb3V0IiwiYWxsb3dFeGl0T25JZGxlIiwidGVzdENvbm5lY3Rpb24iLCJjbGllbnQiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsInJlbGVhc2UiLCJlcnJvciIsImZpbmRVc2VyQnlFbWFpbCIsImVtYWlsIiwicXVlcnkiLCJyZXN1bHQiLCJyb3dzIiwibGVuZ3RoIiwicm93IiwiaWQiLCJkaXNwbGF5X25hbWUiLCJwaG9uZV9udW1iZXIiLCJwYXNzd29yZF9oYXNoIiwiZW1haWxfdmVyaWZpZWQiLCJjcmVhdGVkX2F0IiwicGhvbmUiLCJ3YWxsZXRfYmFsYW5jZSIsImJvbnVzX3dhbGxldCIsInRvdGFsX3JlZmVycmFscyIsInJlZmVycmFsX2NvZGUiLCJmYXN0X3RyYWNrX2VsaWdpYmxlIiwiZmFzdF90cmFja19hY3RpdmF0ZWQiLCJmaW5kVXNlckJ5UGhvbmUiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJ1c2VyUXVlcnkiLCJ1c2VyVmFsdWVzIiwidXNlclJlc3VsdCIsIm5ld1VzZXIiLCJyZWZlcnJhbENvZGUiLCJnZW5lcmF0ZVJlZmVycmFsQ29kZSIsInByb2ZpbGVRdWVyeSIsImZ1bGxOYW1lIiwibmFtZVBhcnRzIiwic3BsaXQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNsaWNlIiwiam9pbiIsInByb2ZpbGVWYWx1ZXMiLCJwcm9maWxlUmVzdWx0IiwibmV3UHJvZmlsZSIsInZlcmlmeVBhc3N3b3JkIiwiY29tcGFyZSIsInZlcmlmeVBhc3N3b3JkQnlQaG9uZSIsInVwZGF0ZVVzZXJQcm9maWxlIiwidXNlcklkIiwidXBkYXRlcyIsInVzZXJVcGRhdGVzIiwicHJvZmlsZVVwZGF0ZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiaW5jbHVkZXMiLCJrZXlzIiwidXNlckZpZWxkcyIsIm1hcCIsImluZGV4IiwidmFsdWVzIiwicHVzaCIsInByb2ZpbGVGaWVsZHMiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImdldENsaWVudCIsImNsb3NlIiwiZW5kIiwiZGlyZWN0RGIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/direct-db.ts\n");

/***/ }),

/***/ "(api)/./lib/nhost.ts":
/*!**********************!*\
  !*** ./lib/nhost.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConfig: () => (/* binding */ dbConfig),\n/* harmony export */   nhost: () => (/* binding */ nhost),\n/* harmony export */   testDirectDatabaseConnection: () => (/* binding */ testDirectDatabaseConnection),\n/* harmony export */   testNhostConnection: () => (/* binding */ testNhostConnection)\n/* harmony export */ });\n/* harmony import */ var _nhost_nhost_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @nhost/nhost-js */ \"@nhost/nhost-js\");\n/* harmony import */ var _nhost_nhost_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_nhost_nhost_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst nhost = new _nhost_nhost_js__WEBPACK_IMPORTED_MODULE_0__.NhostClient({\n    subdomain: \"sbpnfqrsnvtyvkgldcco\" || 0,\n    region: \"eu-central-1\" || 0\n});\n// Direct PostgreSQL connection configuration\nconst dbConfig = {\n    host: \"sbpnfqrsnvtyvkgldcco.db.eu-central-1.nhost.run\" || 0,\n    port: parseInt(\"5432\" || 0),\n    database: \"sbpnfqrsnvtyvkgldcco\" || 0,\n    user: \"postgres\" || 0,\n    password: \"Provenvalueenterprise@123!\" || 0,\n    ssl: \"true\" !== \"false\"\n};\n// Connection test function\nconst testNhostConnection = async ()=>{\n    try {\n        console.log(\"\\uD83D\\uDD0D Testing Nhost connection...\");\n        console.log(\"\\uD83D\\uDCCD Nhost Config:\", {\n            subdomain: \"sbpnfqrsnvtyvkgldcco\",\n            region: \"eu-central-1\",\n            useNhost: \"true\"\n        });\n        // Test basic connectivity\n        const isAuthenticated = nhost.auth.isAuthenticated();\n        console.log(\"\\uD83D\\uDD10 Current auth status:\", isAuthenticated);\n        // Test GraphQL endpoint\n        const response = await fetch(`https://${\"sbpnfqrsnvtyvkgldcco\"}.nhost.run/v1/graphql`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                query: `\r\n          query {\r\n            __typename\r\n          }\r\n        `\n            })\n        });\n        if (response.ok) {\n            console.log(\"✅ Nhost GraphQL endpoint is reachable\");\n            return {\n                success: true,\n                message: \"Nhost connection successful\"\n            };\n        } else {\n            console.error(\"❌ Nhost GraphQL endpoint error:\", response.status, response.statusText);\n            return {\n                success: false,\n                message: `HTTP ${response.status}: ${response.statusText}`\n            };\n        }\n    } catch (error) {\n        console.error(\"❌ Nhost connection test failed:\", error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        };\n    }\n};\n// Direct PostgreSQL connection test\nconst testDirectDatabaseConnection = async ()=>{\n    try {\n        console.log(\"\\uD83D\\uDD0D Testing direct PostgreSQL connection...\");\n        // For now, we'll test the connection string format\n        const connectionString = `postgres://${dbConfig.user}:${dbConfig.password}@${dbConfig.host}:${dbConfig.port}/${dbConfig.database}`;\n        console.log(\"\\uD83D\\uDCCB Connection Details:\");\n        console.log(`   Host: ${dbConfig.host}`);\n        console.log(`   Port: ${dbConfig.port}`);\n        console.log(`   Database: ${dbConfig.database}`);\n        console.log(`   User: ${dbConfig.user}`);\n        console.log(`   SSL: ${dbConfig.ssl}`);\n        console.log(`   Connection String: ${connectionString.replace(/:[^:]*@/, \":***@\")}`); // Hide password\n        // Test if we can reach the database host\n        const testResponse = await fetch(`https://dns.google/resolve?name=${dbConfig.host}`, {\n            method: \"GET\"\n        });\n        if (testResponse.ok) {\n            const dnsData = await testResponse.json();\n            if (dnsData.Answer && dnsData.Answer.length > 0) {\n                console.log(\"✅ Database host is reachable via DNS\");\n                return {\n                    success: true,\n                    message: \"Database host is reachable\",\n                    connectionString: connectionString,\n                    dnsResolved: true\n                };\n            }\n        }\n        console.log(\"⚠️ Cannot verify database host reachability\");\n        return {\n            success: false,\n            message: \"Cannot verify database host reachability\",\n            connectionString: connectionString,\n            dnsResolved: false\n        };\n    } catch (error) {\n        console.error(\"❌ Direct database connection test failed:\", error);\n        return {\n            success: false,\n            message: error instanceof Error ? error.message : \"Unknown error\",\n            connectionString: null,\n            dnsResolved: false\n        };\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDLHNCQUFzQixFQUFFcUIsaUJBQWlCQyxPQUFPLENBQUMsV0FBVyxTQUFTLENBQUMsR0FBRyxnQkFBZ0I7UUFFdEcseUNBQXlDO1FBQ3pDLE1BQU1DLGVBQWUsTUFBTWpCLE1BQU0sQ0FBQyxnQ0FBZ0MsRUFBRXRCLFNBQVNDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDbkZzQixRQUFRO1FBQ1Y7UUFFQSxJQUFJZ0IsYUFBYVYsRUFBRSxFQUFFO1lBQ25CLE1BQU1XLFVBQVUsTUFBTUQsYUFBYUUsSUFBSTtZQUN2QyxJQUFJRCxRQUFRRSxNQUFNLElBQUlGLFFBQVFFLE1BQU0sQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7Z0JBQy9DNUIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU87b0JBQ0xjLFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1RNLGtCQUFrQkE7b0JBQ2xCTyxhQUFhO2dCQUNmO1lBQ0Y7UUFDRjtRQUVBN0IsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztZQUNMYyxTQUFTO1lBQ1RDLFNBQVM7WUFDVE0sa0JBQWtCQTtZQUNsQk8sYUFBYTtRQUNmO0lBRUYsRUFBRSxPQUFPWixPQUFPO1FBQ2RqQixRQUFRaUIsS0FBSyxDQUFDLDZDQUE2Q0E7UUFDM0QsT0FBTztZQUNMRixTQUFTO1lBQ1RDLFNBQVNDLGlCQUFpQkcsUUFBUUgsTUFBTUQsT0FBTyxHQUFHO1lBQ2xETSxrQkFBa0I7WUFDbEJPLGFBQWE7UUFDZjtJQUNGO0FBQ0YsRUFBRTtBQUVjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvdmVudi1uZXh0anMvLi9saWIvbmhvc3QudHM/NGI4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOaG9zdENsaWVudCB9IGZyb20gJ0BuaG9zdC9uaG9zdC1qcydcclxuXHJcbmNvbnN0IG5ob3N0ID0gbmV3IE5ob3N0Q2xpZW50KHtcclxuICBzdWJkb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05IT1NUX1NVQkRPTUFJTiB8fCAnc2JwbmZxcnNudnR5dmtnbGRjY28nLFxyXG4gIHJlZ2lvbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTkhPU1RfUkVHSU9OIHx8ICdldS1jZW50cmFsLTEnXHJcbn0pXHJcblxyXG4vLyBEaXJlY3QgUG9zdGdyZVNRTCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb25cclxuZXhwb3J0IGNvbnN0IGRiQ29uZmlnID0ge1xyXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgJ3NicG5mcXJzbnZ0eXZrZ2xkY2NvLmRiLmV1LWNlbnRyYWwtMS5uaG9zdC5ydW4nLFxyXG4gIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzU0MzInKSxcclxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCAnc2JwbmZxcnNudnR5dmtnbGRjY28nLFxyXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgJ3Bvc3RncmVzJyxcclxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQgfHwgJycsXHJcbiAgc3NsOiBwcm9jZXNzLmVudi5EQl9TU0wgIT09ICdmYWxzZSdcclxufTtcclxuXHJcbi8vIENvbm5lY3Rpb24gdGVzdCBmdW5jdGlvblxyXG5leHBvcnQgY29uc3QgdGVzdE5ob3N0Q29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CflI0gVGVzdGluZyBOaG9zdCBjb25uZWN0aW9uLi4uJyk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TjSBOaG9zdCBDb25maWc6Jywge1xyXG4gICAgICBzdWJkb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05IT1NUX1NVQkRPTUFJTixcclxuICAgICAgcmVnaW9uOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19OSE9TVF9SRUdJT04sXHJcbiAgICAgIHVzZU5ob3N0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTkhPU1RcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRlc3QgYmFzaWMgY29ubmVjdGl2aXR5XHJcbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBuaG9zdC5hdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG4gICAgY29uc29sZS5sb2coJ/CflJAgQ3VycmVudCBhdXRoIHN0YXR1czonLCBpc0F1dGhlbnRpY2F0ZWQpO1xyXG5cclxuICAgIC8vIFRlc3QgR3JhcGhRTCBlbmRwb2ludFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly8ke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05IT1NUX1NVQkRPTUFJTn0ubmhvc3QucnVuL3YxL2dyYXBocWxgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHF1ZXJ5OiBgXHJcbiAgICAgICAgICBxdWVyeSB7XHJcbiAgICAgICAgICAgIF9fdHlwZW5hbWVcclxuICAgICAgICAgIH1cclxuICAgICAgICBgXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBOaG9zdCBHcmFwaFFMIGVuZHBvaW50IGlzIHJlYWNoYWJsZScpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTmhvc3QgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIE5ob3N0IEdyYXBoUUwgZW5kcG9pbnQgZXJyb3I6JywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAgfTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIE5ob3N0IGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRGlyZWN0IFBvc3RncmVTUUwgY29ubmVjdGlvbiB0ZXN0XHJcbmV4cG9ydCBjb25zdCB0ZXN0RGlyZWN0RGF0YWJhc2VDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+UjSBUZXN0aW5nIGRpcmVjdCBQb3N0Z3JlU1FMIGNvbm5lY3Rpb24uLi4nKTtcclxuXHJcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCB0ZXN0IHRoZSBjb25uZWN0aW9uIHN0cmluZyBmb3JtYXRcclxuICAgIGNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBgcG9zdGdyZXM6Ly8ke2RiQ29uZmlnLnVzZXJ9OiR7ZGJDb25maWcucGFzc3dvcmR9QCR7ZGJDb25maWcuaG9zdH06JHtkYkNvbmZpZy5wb3J0fS8ke2RiQ29uZmlnLmRhdGFiYXNlfWA7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/Cfk4sgQ29ubmVjdGlvbiBEZXRhaWxzOicpO1xyXG4gICAgY29uc29sZS5sb2coYCAgIEhvc3Q6ICR7ZGJDb25maWcuaG9zdH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGAgICBQb3J0OiAke2RiQ29uZmlnLnBvcnR9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgICAgRGF0YWJhc2U6ICR7ZGJDb25maWcuZGF0YWJhc2V9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgICAgVXNlcjogJHtkYkNvbmZpZy51c2VyfWApO1xyXG4gICAgY29uc29sZS5sb2coYCAgIFNTTDogJHtkYkNvbmZpZy5zc2x9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgICAgQ29ubmVjdGlvbiBTdHJpbmc6ICR7Y29ubmVjdGlvblN0cmluZy5yZXBsYWNlKC86W146XSpALywgJzoqKipAJyl9YCk7IC8vIEhpZGUgcGFzc3dvcmRcclxuXHJcbiAgICAvLyBUZXN0IGlmIHdlIGNhbiByZWFjaCB0aGUgZGF0YWJhc2UgaG9zdFxyXG4gICAgY29uc3QgdGVzdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vZG5zLmdvb2dsZS9yZXNvbHZlP25hbWU9JHtkYkNvbmZpZy5ob3N0fWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRlc3RSZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBkbnNEYXRhID0gYXdhaXQgdGVzdFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKGRuc0RhdGEuQW5zd2VyICYmIGRuc0RhdGEuQW5zd2VyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGhvc3QgaXMgcmVhY2hhYmxlIHZpYSBETlMnKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBob3N0IGlzIHJlYWNoYWJsZScsXHJcbiAgICAgICAgICBjb25uZWN0aW9uU3RyaW5nOiBjb25uZWN0aW9uU3RyaW5nLFxyXG4gICAgICAgICAgZG5zUmVzb2x2ZWQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ+KaoO+4jyBDYW5ub3QgdmVyaWZ5IGRhdGFiYXNlIGhvc3QgcmVhY2hhYmlsaXR5Jyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ0Nhbm5vdCB2ZXJpZnkgZGF0YWJhc2UgaG9zdCByZWFjaGFiaWxpdHknLFxyXG4gICAgICBjb25uZWN0aW9uU3RyaW5nOiBjb25uZWN0aW9uU3RyaW5nLFxyXG4gICAgICBkbnNSZXNvbHZlZDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRGlyZWN0IGRhdGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICBjb25uZWN0aW9uU3RyaW5nOiBudWxsLFxyXG4gICAgICBkbnNSZXNvbHZlZDogZmFsc2VcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHsgbmhvc3QgfSJdLCJuYW1lcyI6WyJOaG9zdENsaWVudCIsIm5ob3N0Iiwic3ViZG9tYWluIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX05IT1NUX1NVQkRPTUFJTiIsInJlZ2lvbiIsIk5FWFRfUFVCTElDX05IT1NUX1JFR0lPTiIsImRiQ29uZmlnIiwiaG9zdCIsIkRCX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJEQl9QT1JUIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwidXNlciIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwic3NsIiwiREJfU1NMIiwidGVzdE5ob3N0Q29ubmVjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJ1c2VOaG9zdCIsIk5FWFRfUFVCTElDX1VTRV9OSE9TVCIsImlzQXV0aGVudGljYXRlZCIsImF1dGgiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicXVlcnkiLCJvayIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiRXJyb3IiLCJ0ZXN0RGlyZWN0RGF0YWJhc2VDb25uZWN0aW9uIiwiY29ubmVjdGlvblN0cmluZyIsInJlcGxhY2UiLCJ0ZXN0UmVzcG9uc2UiLCJkbnNEYXRhIiwianNvbiIsIkFuc3dlciIsImxlbmd0aCIsImRuc1Jlc29sdmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/nhost.ts\n");

/***/ }),

/***/ "(api)/./lib/user-store.ts":
/*!***************************!*\
  !*** ./lib/user-store.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   userStore: () => (/* binding */ userStore)\n/* harmony export */ });\n/* harmony import */ var _direct_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./direct-db */ \"(api)/./lib/direct-db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n// Direct database user store for persistent storage\n// Uses direct PostgreSQL connection for user management\n\n\n// Direct database user store\nclass DirectDatabaseUserStore {\n    // Find user by email\n    async findUserByEmail(email) {\n        try {\n            console.log(\"\\uD83D\\uDD0D Finding user by email:\", email);\n            const user = await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.findUserByEmail(email);\n            if (user) {\n                return {\n                    id: user.id,\n                    display_name: user.display_name,\n                    email: user.email,\n                    phone: user.phone,\n                    phone_number: user.phone_number,\n                    passwordHash: user.password_hash,\n                    referralCode: user.referral_code,\n                    emailVerified: user.email_verified,\n                    createdAt: user.created_at,\n                    walletBalance: user.wallet_balance,\n                    bonusWallet: user.bonus_wallet,\n                    totalReferrals: user.total_referrals,\n                    fastTrackEligible: user.fast_track_eligible,\n                    fastTrackActivated: user.fast_track_activated\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"❌ Error finding user by email:\", error);\n            return null;\n        }\n    }\n    // Find user by phone number\n    async findUserByPhone(phone) {\n        try {\n            console.log(\"\\uD83D\\uDD0D Finding user by phone:\", phone);\n            const user = await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.findUserByPhone(phone);\n            if (user) {\n                return {\n                    id: user.id,\n                    display_name: user.display_name,\n                    email: user.email,\n                    phone: user.phone,\n                    phone_number: user.phone_number,\n                    passwordHash: user.password_hash,\n                    referralCode: user.referral_code,\n                    emailVerified: user.email_verified,\n                    createdAt: user.created_at,\n                    walletBalance: user.wallet_balance,\n                    bonusWallet: user.bonus_wallet,\n                    totalReferrals: user.total_referrals,\n                    fastTrackEligible: user.fast_track_eligible,\n                    fastTrackActivated: user.fast_track_activated\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"❌ Error finding user by phone:\", error);\n            return null;\n        }\n    }\n    // Create new user\n    async createUser(userData) {\n        try {\n            console.log(\"\\uD83D\\uDC64 Creating new user:\", userData.email);\n            const user = await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.createUser(userData);\n            if (user) {\n                return {\n                    id: user.id,\n                    display_name: user.display_name,\n                    email: user.email,\n                    phone: user.phone,\n                    phone_number: user.phone_number,\n                    passwordHash: user.password_hash,\n                    referralCode: user.referral_code,\n                    emailVerified: user.email_verified,\n                    createdAt: user.created_at,\n                    walletBalance: user.wallet_balance,\n                    bonusWallet: user.bonus_wallet,\n                    totalReferrals: user.total_referrals,\n                    fastTrackEligible: user.fast_track_eligible,\n                    fastTrackActivated: user.fast_track_activated\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"❌ Error creating user:\", error);\n            // Re-throw the error to preserve constraint violation details\n            throw error;\n        }\n    }\n    // Update user profile\n    async updateUserProfile(userId, updates) {\n        try {\n            console.log(\"\\uD83D\\uDCDD Updating user profile:\", userId);\n            // Convert camelCase to snake_case for database\n            const dbUpdates = {};\n            if (updates.display_name) dbUpdates.display_name = updates.display_name;\n            if (updates.email) dbUpdates.email = updates.email;\n            if (updates.phone) dbUpdates.phone = updates.phone;\n            if (updates.phone_number) dbUpdates.phone_number = updates.phone_number;\n            if (updates.passwordHash) dbUpdates.password_hash = updates.passwordHash;\n            if (updates.referralCode) dbUpdates.referral_code = updates.referralCode;\n            if (updates.emailVerified !== undefined) dbUpdates.email_verified = updates.emailVerified;\n            if (updates.walletBalance !== undefined) dbUpdates.wallet_balance = updates.walletBalance;\n            if (updates.bonusWallet !== undefined) dbUpdates.bonus_wallet = updates.bonusWallet;\n            if (updates.totalReferrals !== undefined) dbUpdates.total_referrals = updates.totalReferrals;\n            if (updates.fastTrackEligible !== undefined) dbUpdates.fast_track_eligible = updates.fastTrackEligible;\n            if (updates.fastTrackActivated !== undefined) dbUpdates.fast_track_activated = updates.fastTrackActivated;\n            return await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.updateUserProfile(userId, dbUpdates);\n        } catch (error) {\n            console.error(\"❌ Error updating user profile:\", error);\n            return false;\n        }\n    }\n    // Verify user password\n    async verifyPassword(email, password) {\n        try {\n            console.log(\"\\uD83D\\uDD10 Verifying password for:\", email);\n            return await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.verifyPassword(email, password);\n        } catch (error) {\n            console.error(\"❌ Error verifying password:\", error);\n            return false;\n        }\n    }\n    // Verify user password by phone\n    async verifyPasswordByPhone(phone, password) {\n        try {\n            console.log(\"\\uD83D\\uDD10 Verifying password for phone:\", phone);\n            return await _direct_db__WEBPACK_IMPORTED_MODULE_0__.directDb.verifyPasswordByPhone(phone, password);\n        } catch (error) {\n            console.error(\"❌ Error verifying password by phone:\", error);\n            return false;\n        }\n    }\n    // Find user by email or phone\n    async findUserByEmailOrPhone(identifier) {\n        try {\n            console.log(\"\\uD83D\\uDD0D Finding user by email or phone:\", identifier);\n            // Check if identifier looks like an email (contains @)\n            if (identifier.includes(\"@\")) {\n                return await this.findUserByEmail(identifier);\n            } else {\n                return await this.findUserByPhone(identifier);\n            }\n        } catch (error) {\n            console.error(\"❌ Error finding user by email or phone:\", error);\n            return null;\n        }\n    }\n    // Verify password for email or phone login\n    async verifyPasswordByEmailOrPhone(identifier, password) {\n        try {\n            console.log(\"\\uD83D\\uDD10 Verifying password for identifier:\", identifier);\n            // Check if identifier looks like an email (contains @)\n            if (identifier.includes(\"@\")) {\n                return await this.verifyPassword(identifier, password);\n            } else {\n                return await this.verifyPasswordByPhone(identifier, password);\n            }\n        } catch (error) {\n            console.error(\"❌ Error verifying password by identifier:\", error);\n            return false;\n        }\n    }\n    // Update user password (convenience method for password reset)\n    async updateUserPassword(userId, newPassword) {\n        try {\n            console.log(\"\\uD83D\\uDD10 Updating password for user:\", userId);\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(newPassword, 12);\n            return await this.updateUserProfile(userId, {\n                passwordHash: hashedPassword\n            });\n        } catch (error) {\n            console.error(\"❌ Error updating user password:\", error);\n            return false;\n        }\n    }\n}\n// Export singleton instance\nconst userStore = new DirectDatabaseUserStore();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userStore);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvdmVudi1uZXh0anMvLi9saWIvdXNlci1zdG9yZS50cz9jNWUxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERpcmVjdCBkYXRhYmFzZSB1c2VyIHN0b3JlIGZvciBwZXJzaXN0ZW50IHN0b3JhZ2VcclxuLy8gVXNlcyBkaXJlY3QgUG9zdGdyZVNRTCBjb25uZWN0aW9uIGZvciB1c2VyIG1hbmFnZW1lbnRcclxuXHJcbmltcG9ydCB7IGRpcmVjdERiIH0gZnJvbSAnLi9kaXJlY3QtZGInO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcclxuXHJcbmludGVyZmFjZSBVc2VyIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRpc3BsYXlfbmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGhvbmU/OiBzdHJpbmc7XHJcbiAgcGhvbmVfbnVtYmVyPzogc3RyaW5nO1xyXG4gIHBhc3N3b3JkSGFzaDogc3RyaW5nO1xyXG4gIHJlZmVycmFsQ29kZT86IHN0cmluZztcclxuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB3YWxsZXRCYWxhbmNlPzogbnVtYmVyO1xyXG4gIGJvbnVzV2FsbGV0PzogbnVtYmVyO1xyXG4gIHRvdGFsUmVmZXJyYWxzPzogbnVtYmVyO1xyXG4gIGZhc3RUcmFja0VsaWdpYmxlPzogYm9vbGVhbjtcclxuICBmYXN0VHJhY2tBY3RpdmF0ZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG4vLyBEaXJlY3QgZGF0YWJhc2UgdXNlciBzdG9yZVxyXG5jbGFzcyBEaXJlY3REYXRhYmFzZVVzZXJTdG9yZSB7XHJcbiAgLy8gRmluZCB1c2VyIGJ5IGVtYWlsXHJcbiAgYXN5bmMgZmluZFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBGaW5kaW5nIHVzZXIgYnkgZW1haWw6JywgZW1haWwpO1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGlyZWN0RGIuZmluZFVzZXJCeUVtYWlsKGVtYWlsKTtcclxuXHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgcGhvbmU6IHVzZXIucGhvbmUsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXI6IHVzZXIucGhvbmVfbnVtYmVyLFxyXG4gICAgICAgICAgcGFzc3dvcmRIYXNoOiB1c2VyLnBhc3N3b3JkX2hhc2gsXHJcbiAgICAgICAgICByZWZlcnJhbENvZGU6IHVzZXIucmVmZXJyYWxfY29kZSxcclxuICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHVzZXIuZW1haWxfdmVyaWZpZWQsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHdhbGxldEJhbGFuY2U6IHVzZXIud2FsbGV0X2JhbGFuY2UsXHJcbiAgICAgICAgICBib251c1dhbGxldDogdXNlci5ib251c193YWxsZXQsXHJcbiAgICAgICAgICB0b3RhbFJlZmVycmFsczogdXNlci50b3RhbF9yZWZlcnJhbHMsXHJcbiAgICAgICAgICBmYXN0VHJhY2tFbGlnaWJsZTogdXNlci5mYXN0X3RyYWNrX2VsaWdpYmxlLFxyXG4gICAgICAgICAgZmFzdFRyYWNrQWN0aXZhdGVkOiB1c2VyLmZhc3RfdHJhY2tfYWN0aXZhdGVkLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZpbmRpbmcgdXNlciBieSBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRmluZCB1c2VyIGJ5IHBob25lIG51bWJlclxyXG4gIGFzeW5jIGZpbmRVc2VyQnlQaG9uZShwaG9uZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gRmluZGluZyB1c2VyIGJ5IHBob25lOicsIHBob25lKTtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRpcmVjdERiLmZpbmRVc2VyQnlQaG9uZShwaG9uZSk7XHJcblxyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIGRpc3BsYXlfbmFtZTogdXNlci5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgIHBob25lOiB1c2VyLnBob25lLFxyXG4gICAgICAgICAgcGhvbmVfbnVtYmVyOiB1c2VyLnBob25lX251bWJlcixcclxuICAgICAgICAgIHBhc3N3b3JkSGFzaDogdXNlci5wYXNzd29yZF9oYXNoLFxyXG4gICAgICAgICAgcmVmZXJyYWxDb2RlOiB1c2VyLnJlZmVycmFsX2NvZGUsXHJcbiAgICAgICAgICBlbWFpbFZlcmlmaWVkOiB1c2VyLmVtYWlsX3ZlcmlmaWVkLFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICB3YWxsZXRCYWxhbmNlOiB1c2VyLndhbGxldF9iYWxhbmNlLFxyXG4gICAgICAgICAgYm9udXNXYWxsZXQ6IHVzZXIuYm9udXNfd2FsbGV0LFxyXG4gICAgICAgICAgdG90YWxSZWZlcnJhbHM6IHVzZXIudG90YWxfcmVmZXJyYWxzLFxyXG4gICAgICAgICAgZmFzdFRyYWNrRWxpZ2libGU6IHVzZXIuZmFzdF90cmFja19lbGlnaWJsZSxcclxuICAgICAgICAgIGZhc3RUcmFja0FjdGl2YXRlZDogdXNlci5mYXN0X3RyYWNrX2FjdGl2YXRlZCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmaW5kaW5nIHVzZXIgYnkgcGhvbmU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBuZXcgdXNlclxyXG4gIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGE6IHtcclxuICAgIGRpc3BsYXlfbmFtZTogc3RyaW5nO1xyXG4gICAgZW1haWw6IHN0cmluZyB8IG51bGw7XHJcbiAgICBwaG9uZT86IHN0cmluZztcclxuICAgIHBob25lX251bWJlcj86IHN0cmluZztcclxuICAgIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgfSk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIENyZWF0aW5nIG5ldyB1c2VyOicsIHVzZXJEYXRhLmVtYWlsKTtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRpcmVjdERiLmNyZWF0ZVVzZXIodXNlckRhdGEpO1xyXG5cclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICBkaXNwbGF5X25hbWU6IHVzZXIuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICBwaG9uZTogdXNlci5waG9uZSxcclxuICAgICAgICAgIHBob25lX251bWJlcjogdXNlci5waG9uZV9udW1iZXIsXHJcbiAgICAgICAgICBwYXNzd29yZEhhc2g6IHVzZXIucGFzc3dvcmRfaGFzaCxcclxuICAgICAgICAgIHJlZmVycmFsQ29kZTogdXNlci5yZWZlcnJhbF9jb2RlLFxyXG4gICAgICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbF92ZXJpZmllZCxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkX2F0LFxyXG4gICAgICAgICAgd2FsbGV0QmFsYW5jZTogdXNlci53YWxsZXRfYmFsYW5jZSxcclxuICAgICAgICAgIGJvbnVzV2FsbGV0OiB1c2VyLmJvbnVzX3dhbGxldCxcclxuICAgICAgICAgIHRvdGFsUmVmZXJyYWxzOiB1c2VyLnRvdGFsX3JlZmVycmFscyxcclxuICAgICAgICAgIGZhc3RUcmFja0VsaWdpYmxlOiB1c2VyLmZhc3RfdHJhY2tfZWxpZ2libGUsXHJcbiAgICAgICAgICBmYXN0VHJhY2tBY3RpdmF0ZWQ6IHVzZXIuZmFzdF90cmFja19hY3RpdmF0ZWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY3JlYXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgIC8vIFJlLXRocm93IHRoZSBlcnJvciB0byBwcmVzZXJ2ZSBjb25zdHJhaW50IHZpb2xhdGlvbiBkZXRhaWxzXHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHVzZXIgcHJvZmlsZVxyXG4gIGFzeW5jIHVwZGF0ZVVzZXJQcm9maWxlKHVzZXJJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXI+KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBVcGRhdGluZyB1c2VyIHByb2ZpbGU6JywgdXNlcklkKTtcclxuXHJcbiAgICAgIC8vIENvbnZlcnQgY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2UgZm9yIGRhdGFiYXNlXHJcbiAgICAgIGNvbnN0IGRiVXBkYXRlczogYW55ID0ge307XHJcbiAgICAgIGlmICh1cGRhdGVzLmRpc3BsYXlfbmFtZSkgZGJVcGRhdGVzLmRpc3BsYXlfbmFtZSA9IHVwZGF0ZXMuZGlzcGxheV9uYW1lO1xyXG4gICAgICBpZiAodXBkYXRlcy5lbWFpbCkgZGJVcGRhdGVzLmVtYWlsID0gdXBkYXRlcy5lbWFpbDtcclxuICAgICAgaWYgKHVwZGF0ZXMucGhvbmUpIGRiVXBkYXRlcy5waG9uZSA9IHVwZGF0ZXMucGhvbmU7XHJcbiAgICAgIGlmICh1cGRhdGVzLnBob25lX251bWJlcikgZGJVcGRhdGVzLnBob25lX251bWJlciA9IHVwZGF0ZXMucGhvbmVfbnVtYmVyO1xyXG4gICAgICBpZiAodXBkYXRlcy5wYXNzd29yZEhhc2gpIGRiVXBkYXRlcy5wYXNzd29yZF9oYXNoID0gdXBkYXRlcy5wYXNzd29yZEhhc2g7XHJcbiAgICAgIGlmICh1cGRhdGVzLnJlZmVycmFsQ29kZSkgZGJVcGRhdGVzLnJlZmVycmFsX2NvZGUgPSB1cGRhdGVzLnJlZmVycmFsQ29kZTtcclxuICAgICAgaWYgKHVwZGF0ZXMuZW1haWxWZXJpZmllZCAhPT0gdW5kZWZpbmVkKSBkYlVwZGF0ZXMuZW1haWxfdmVyaWZpZWQgPSB1cGRhdGVzLmVtYWlsVmVyaWZpZWQ7XHJcbiAgICAgIGlmICh1cGRhdGVzLndhbGxldEJhbGFuY2UgIT09IHVuZGVmaW5lZCkgZGJVcGRhdGVzLndhbGxldF9iYWxhbmNlID0gdXBkYXRlcy53YWxsZXRCYWxhbmNlO1xyXG4gICAgICBpZiAodXBkYXRlcy5ib251c1dhbGxldCAhPT0gdW5kZWZpbmVkKSBkYlVwZGF0ZXMuYm9udXNfd2FsbGV0ID0gdXBkYXRlcy5ib251c1dhbGxldDtcclxuICAgICAgaWYgKHVwZGF0ZXMudG90YWxSZWZlcnJhbHMgIT09IHVuZGVmaW5lZCkgZGJVcGRhdGVzLnRvdGFsX3JlZmVycmFscyA9IHVwZGF0ZXMudG90YWxSZWZlcnJhbHM7XHJcbiAgICAgIGlmICh1cGRhdGVzLmZhc3RUcmFja0VsaWdpYmxlICE9PSB1bmRlZmluZWQpIGRiVXBkYXRlcy5mYXN0X3RyYWNrX2VsaWdpYmxlID0gdXBkYXRlcy5mYXN0VHJhY2tFbGlnaWJsZTtcclxuICAgICAgaWYgKHVwZGF0ZXMuZmFzdFRyYWNrQWN0aXZhdGVkICE9PSB1bmRlZmluZWQpIGRiVXBkYXRlcy5mYXN0X3RyYWNrX2FjdGl2YXRlZCA9IHVwZGF0ZXMuZmFzdFRyYWNrQWN0aXZhdGVkO1xyXG5cclxuICAgICAgcmV0dXJuIGF3YWl0IGRpcmVjdERiLnVwZGF0ZVVzZXJQcm9maWxlKHVzZXJJZCwgZGJVcGRhdGVzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB1cGRhdGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBWZXJpZnkgdXNlciBwYXNzd29yZFxyXG4gIGFzeW5jIHZlcmlmeVBhc3N3b3JkKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SQIFZlcmlmeWluZyBwYXNzd29yZCBmb3I6JywgZW1haWwpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgZGlyZWN0RGIudmVyaWZ5UGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2ZXJpZnlpbmcgcGFzc3dvcmQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBWZXJpZnkgdXNlciBwYXNzd29yZCBieSBwaG9uZVxyXG4gIGFzeW5jIHZlcmlmeVBhc3N3b3JkQnlQaG9uZShwaG9uZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBWZXJpZnlpbmcgcGFzc3dvcmQgZm9yIHBob25lOicsIHBob25lKTtcclxuICAgICAgcmV0dXJuIGF3YWl0IGRpcmVjdERiLnZlcmlmeVBhc3N3b3JkQnlQaG9uZShwaG9uZSwgcGFzc3dvcmQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHZlcmlmeWluZyBwYXNzd29yZCBieSBwaG9uZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbmQgdXNlciBieSBlbWFpbCBvciBwaG9uZVxyXG4gIGFzeW5jIGZpbmRVc2VyQnlFbWFpbE9yUGhvbmUoaWRlbnRpZmllcjogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gRmluZGluZyB1c2VyIGJ5IGVtYWlsIG9yIHBob25lOicsIGlkZW50aWZpZXIpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgaWRlbnRpZmllciBsb29rcyBsaWtlIGFuIGVtYWlsIChjb250YWlucyBAKVxyXG4gICAgICBpZiAoaWRlbnRpZmllci5pbmNsdWRlcygnQCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZFVzZXJCeUVtYWlsKGlkZW50aWZpZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRVc2VyQnlQaG9uZShpZGVudGlmaWVyKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZpbmRpbmcgdXNlciBieSBlbWFpbCBvciBwaG9uZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVmVyaWZ5IHBhc3N3b3JkIGZvciBlbWFpbCBvciBwaG9uZSBsb2dpblxyXG4gIGFzeW5jIHZlcmlmeVBhc3N3b3JkQnlFbWFpbE9yUGhvbmUoaWRlbnRpZmllcjogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBWZXJpZnlpbmcgcGFzc3dvcmQgZm9yIGlkZW50aWZpZXI6JywgaWRlbnRpZmllcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBpZGVudGlmaWVyIGxvb2tzIGxpa2UgYW4gZW1haWwgKGNvbnRhaW5zIEApXHJcbiAgICAgIGlmIChpZGVudGlmaWVyLmluY2x1ZGVzKCdAJykpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy52ZXJpZnlQYXNzd29yZChpZGVudGlmaWVyLCBwYXNzd29yZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudmVyaWZ5UGFzc3dvcmRCeVBob25lKGlkZW50aWZpZXIsIHBhc3N3b3JkKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHZlcmlmeWluZyBwYXNzd29yZCBieSBpZGVudGlmaWVyOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHVzZXIgcGFzc3dvcmQgKGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgcGFzc3dvcmQgcmVzZXQpXHJcbiAgYXN5bmMgdXBkYXRlVXNlclBhc3N3b3JkKHVzZXJJZDogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBVcGRhdGluZyBwYXNzd29yZCBmb3IgdXNlcjonLCB1c2VySWQpO1xyXG4gICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKG5ld1Bhc3N3b3JkLCAxMik7XHJcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZVVzZXJQcm9maWxlKHVzZXJJZCwgeyBwYXNzd29yZEhhc2g6IGhhc2hlZFBhc3N3b3JkIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwZGF0aW5nIHVzZXIgcGFzc3dvcmQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCB1c2VyU3RvcmUgPSBuZXcgRGlyZWN0RGF0YWJhc2VVc2VyU3RvcmUoKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclN0b3JlO1xyXG4iXSwibmFtZXMiOlsiZGlyZWN0RGIiLCJiY3J5cHQiLCJEaXJlY3REYXRhYmFzZVVzZXJTdG9yZSIsImZpbmRVc2VyQnlFbWFpbCIsImVtYWlsIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJpZCIsImRpc3BsYXlfbmFtZSIsInBob25lIiwicGhvbmVfbnVtYmVyIiwicGFzc3dvcmRIYXNoIiwicGFzc3dvcmRfaGFzaCIsInJlZmVycmFsQ29kZSIsInJlZmVycmFsX2NvZGUiLCJlbWFpbFZlcmlmaWVkIiwiZW1haWxfdmVyaWZpZWQiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0Iiwid2FsbGV0QmFsYW5jZSIsIndhbGxldF9iYWxhbmNlIiwiYm9udXNXYWxsZXQiLCJib251c193YWxsZXQiLCJ0b3RhbFJlZmVycmFscyIsInRvdGFsX3JlZmVycmFscyIsImZhc3RUcmFja0VsaWdpYmxlIiwiZmFzdF90cmFja19lbGlnaWJsZSIsImZhc3RUcmFja0FjdGl2YXRlZCIsImZhc3RfdHJhY2tfYWN0aXZhdGVkIiwiZXJyb3IiLCJmaW5kVXNlckJ5UGhvbmUiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInVzZXJJZCIsInVwZGF0ZXMiLCJkYlVwZGF0ZXMiLCJ1bmRlZmluZWQiLCJ2ZXJpZnlQYXNzd29yZCIsInBhc3N3b3JkIiwidmVyaWZ5UGFzc3dvcmRCeVBob25lIiwiZmluZFVzZXJCeUVtYWlsT3JQaG9uZSIsImlkZW50aWZpZXIiLCJpbmNsdWRlcyIsInZlcmlmeVBhc3N3b3JkQnlFbWFpbE9yUGhvbmUiLCJ1cGRhdGVVc2VyUGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsInVzZXJTdG9yZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/user-store.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_nhost__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/nhost */ \"(api)/./lib/nhost.ts\");\n/* harmony import */ var _lib_user_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/user-store */ \"(api)/./lib/user-store.ts\");\n\n\n\n\nconst authOptions = {\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"credentials\",\n            credentials: {\n                identifier: {\n                    label: \"Email or Phone\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                console.log(\"\\uD83D\\uDD10 NextAuth authorize called with:\", {\n                    identifier: credentials?.identifier\n                });\n                if (!credentials?.identifier || !credentials?.password) {\n                    console.log(\"❌ Missing credentials\");\n                    return null;\n                }\n                try {\n                    // Check if identifier is email (contains @) or phone number\n                    const isEmail = credentials.identifier.includes(\"@\");\n                    // Try Nhost authentication first (only for email)\n                    if (isEmail && \"true\" !== \"false\") {\n                        try {\n                            console.log(\"\\uD83D\\uDD10 Attempting Nhost authentication for:\", credentials.identifier);\n                            console.log(\"\\uD83C\\uDF10 Nhost Config:\", {\n                                subdomain: \"sbpnfqrsnvtyvkgldcco\",\n                                region: \"eu-central-1\",\n                                useNhost: \"true\"\n                            });\n                            const authResponse = await _lib_nhost__WEBPACK_IMPORTED_MODULE_2__.nhost.auth.signIn({\n                                email: credentials.identifier,\n                                password: credentials.password\n                            });\n                            console.log(\"\\uD83D\\uDCCB Nhost auth response:\", {\n                                hasError: !!authResponse.error,\n                                hasSession: !!authResponse.session,\n                                hasUser: !!authResponse.session?.user,\n                                error: authResponse.error\n                            });\n                            if (authResponse.error) {\n                                console.error(\"❌ Nhost auth error details:\", {\n                                    message: authResponse.error.message,\n                                    status: authResponse.error.status,\n                                    error: authResponse.error\n                                });\n                                throw new Error(`Nhost authentication failed: ${authResponse.error.message || \"Unknown error\"}`);\n                            }\n                            if (authResponse.session?.user) {\n                                console.log(\"✅ Nhost authentication successful for user:\", authResponse.session.user.email);\n                                // Get user profile data from direct database\n                                console.log(\"\\uD83D\\uDD0D Fetching user profile data from direct database...\");\n                                const user = await _lib_user_store__WEBPACK_IMPORTED_MODULE_3__.userStore.findUserByEmail(credentials.identifier);\n                                if (user) {\n                                    console.log(\"✅ User profile found, returning complete user data\");\n                                    return {\n                                        id: user.id,\n                                        email: user.email,\n                                        name: user.display_name,\n                                        phone: user.phone || \"\",\n                                        walletBalance: user.walletBalance || 0,\n                                        bonusWallet: user.bonusWallet || 0,\n                                        totalReferrals: user.totalReferrals || 0,\n                                        referralCode: user.referralCode || \"\",\n                                        emailVerified: !!user.emailVerified,\n                                        // Store Nhost access token for GraphQL requests\n                                        accessToken: authResponse.session.accessToken,\n                                        refreshToken: authResponse.session.refreshToken\n                                    };\n                                } else {\n                                    console.log(\"⚠️ User authenticated but no profile found in userStore\");\n                                    // Return basic user data from Nhost session\n                                    return {\n                                        id: authResponse.session.user.id,\n                                        email: authResponse.session.user.email || \"\",\n                                        name: authResponse.session.user.displayName || \"\",\n                                        phone: \"\",\n                                        walletBalance: 0,\n                                        bonusWallet: 0,\n                                        totalReferrals: 0,\n                                        referralCode: \"\",\n                                        emailVerified: !!authResponse.session.user.emailVerified,\n                                        // Store Nhost access token for GraphQL requests\n                                        accessToken: authResponse.session.accessToken,\n                                        refreshToken: authResponse.session.refreshToken\n                                    };\n                                }\n                            } else {\n                                console.error(\"❌ Nhost auth response missing session or user\");\n                                throw new Error(\"Nhost authentication incomplete - no session returned\");\n                            }\n                        } catch (nhostError) {\n                            console.error(\"❌ Nhost authentication failed with error:\", nhostError);\n                            console.error(\"\\uD83D\\uDD04 Falling back to userStore authentication\");\n                        }\n                    } else {\n                        console.log(\"⏭️ Nhost authentication skipped (phone login or NEXT_PUBLIC_USE_NHOST=false)\");\n                    }\n                    // Fallback to direct database authentication\n                    console.log(\"\\uD83D\\uDD04 Using direct database authentication for:\", credentials.identifier);\n                    const user = await _lib_user_store__WEBPACK_IMPORTED_MODULE_3__.userStore.findUserByEmailOrPhone(credentials.identifier);\n                    if (!user) {\n                        console.log(\"❌ User not found in database\");\n                        throw new Error(\"Invalid credentials\");\n                    }\n                    // For direct database, we need to verify password manually\n                    const isValid = await _lib_user_store__WEBPACK_IMPORTED_MODULE_3__.userStore.verifyPasswordByEmailOrPhone(credentials.identifier, credentials.password);\n                    if (!isValid) {\n                        console.log(\"❌ Invalid password\");\n                        throw new Error(\"Invalid credentials\");\n                    }\n                    console.log(\"✅ Direct database authentication successful\");\n                    // Return user object for NextAuth\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.display_name,\n                        phone: user.phone || \"\",\n                        walletBalance: user.walletBalance || 0,\n                        bonusWallet: user.bonusWallet || 0,\n                        totalReferrals: user.totalReferrals || 0,\n                        referralCode: user.referralCode || \"\",\n                        emailVerified: !!user.emailVerified\n                    };\n                } catch (error) {\n                    console.error(\"Authentication error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.phone = user.phone;\n                token.walletBalance = user.walletBalance;\n                token.bonusWallet = user.bonusWallet;\n                token.totalReferrals = user.totalReferrals;\n                token.referralCode = user.referralCode;\n                token.emailVerified = !!user.emailVerified;\n                // Store Nhost tokens\n                token.accessToken = user.accessToken;\n                token.refreshToken = user.refreshToken;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.phone = token.phone;\n                session.user.walletBalance = token.walletBalance;\n                session.user.bonusWallet = token.bonusWallet;\n                session.user.totalReferrals = token.totalReferrals;\n                session.user.referralCode = token.referralCode;\n                session.user.emailVerified = token.emailVerified;\n                // Include Nhost tokens in session\n                session.accessToken = token.accessToken;\n                session.refreshToken = token.refreshToken;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/login\",\n        error: \"/auth/error\"\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWSxHQUFHWCxLQUFLVyxZQUFZO2dCQUN0Q2EsTUFBTVosYUFBYSxHQUFHLENBQUMsQ0FBQ1osS0FBS1ksYUFBYTtnQkFDMUMscUJBQXFCO2dCQUNyQlksTUFBTVgsV0FBVyxHQUFHLEtBQWNBLFdBQVc7Z0JBQzdDVyxNQUFNVixZQUFZLEdBQUcsS0FBY0EsWUFBWTtZQUNqRDtZQUNBLE9BQU9VO1FBQ1Q7UUFDQSxNQUFNMUIsU0FBUSxFQUFFQSxPQUFPLEVBQUUwQixLQUFLLEVBQUU7WUFDOUIsSUFBSUEsT0FBTztnQkFDVDFCLFFBQVFFLElBQUksQ0FBQ0ssRUFBRSxHQUFHbUIsTUFBTW5CLEVBQUU7Z0JBQzFCUCxRQUFRRSxJQUFJLENBQUNPLEtBQUssR0FBR2lCLE1BQU1qQixLQUFLO2dCQUNoQ1QsUUFBUUUsSUFBSSxDQUFDUSxhQUFhLEdBQUdnQixNQUFNaEIsYUFBYTtnQkFDaERWLFFBQVFFLElBQUksQ0FBQ1MsV0FBVyxHQUFHZSxNQUFNZixXQUFXO2dCQUM1Q1gsUUFBUUUsSUFBSSxDQUFDVSxjQUFjLEdBQUdjLE1BQU1kLGNBQWM7Z0JBQ2xEWixRQUFRRSxJQUFJLENBQUNXLFlBQVksR0FBR2EsTUFBTWIsWUFBWTtnQkFDOUNiLFFBQVFFLElBQUksQ0FBQ1ksYUFBYSxHQUFHWSxNQUFNWixhQUFhO2dCQUNoRCxrQ0FBa0M7Z0JBQ2pDZCxRQUFnQmUsV0FBVyxHQUFHVyxNQUFNWCxXQUFXO2dCQUMvQ2YsUUFBZ0JnQixZQUFZLEdBQUdVLE1BQU1WLFlBQVk7WUFDcEQ7WUFDQSxPQUFPaEI7UUFDVDtJQUNGO0lBQ0EyQixPQUFPO1FBQ0xoQyxRQUFRO1FBQ1JHLE9BQU87SUFDVDtJQUNBOEIsUUFBUTNDLFFBQVFDLEdBQUcsQ0FBQzJDLGVBQWU7QUFDckMsRUFBRTtBQUVGLGlFQUFlN0QsZ0RBQVFBLENBQUNJLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm92ZW52LW5leHRqcy8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/MmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGgsIHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSAnbmV4dC1hdXRoJztcclxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgeyBuaG9zdCB9IGZyb20gJy4uLy4uLy4uL2xpYi9uaG9zdCc7XHJcbmltcG9ydCB7IHVzZXJTdG9yZSB9IGZyb20gJy4uLy4uLy4uL2xpYi91c2VyLXN0b3JlJztcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6ICdjcmVkZW50aWFscycsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgaWRlbnRpZmllcjogeyBsYWJlbDogJ0VtYWlsIG9yIFBob25lJywgdHlwZTogJ3RleHQnIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBOZXh0QXV0aCBhdXRob3JpemUgY2FsbGVkIHdpdGg6JywgeyBpZGVudGlmaWVyOiBjcmVkZW50aWFscz8uaWRlbnRpZmllciB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uaWRlbnRpZmllciB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIE1pc3NpbmcgY3JlZGVudGlhbHMnKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIENoZWNrIGlmIGlkZW50aWZpZXIgaXMgZW1haWwgKGNvbnRhaW5zIEApIG9yIHBob25lIG51bWJlclxyXG4gICAgICAgICAgY29uc3QgaXNFbWFpbCA9IGNyZWRlbnRpYWxzLmlkZW50aWZpZXIuaW5jbHVkZXMoJ0AnKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVHJ5IE5ob3N0IGF1dGhlbnRpY2F0aW9uIGZpcnN0IChvbmx5IGZvciBlbWFpbClcclxuICAgICAgICAgIGlmIChpc0VtYWlsICYmIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9OSE9TVCAhPT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEF0dGVtcHRpbmcgTmhvc3QgYXV0aGVudGljYXRpb24gZm9yOicsIGNyZWRlbnRpYWxzLmlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4yQIE5ob3N0IENvbmZpZzonLCB7XHJcbiAgICAgICAgICAgICAgICBzdWJkb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05IT1NUX1NVQkRPTUFJTixcclxuICAgICAgICAgICAgICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTkhPU1RfUkVHSU9OLFxyXG4gICAgICAgICAgICAgICAgdXNlTmhvc3Q6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9OSE9TVFxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBjb25zdCBhdXRoUmVzcG9uc2UgPSBhd2FpdCBuaG9zdC5hdXRoLnNpZ25Jbih7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuaWRlbnRpZmllcixcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZCxcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgTmhvc3QgYXV0aCByZXNwb25zZTonLCB7XHJcbiAgICAgICAgICAgICAgICBoYXNFcnJvcjogISFhdXRoUmVzcG9uc2UuZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBoYXNTZXNzaW9uOiAhIWF1dGhSZXNwb25zZS5zZXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgaGFzVXNlcjogISFhdXRoUmVzcG9uc2Uuc2Vzc2lvbj8udXNlcixcclxuICAgICAgICAgICAgICAgIGVycm9yOiBhdXRoUmVzcG9uc2UuZXJyb3JcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5ob3N0IGF1dGggZXJyb3IgZGV0YWlsczonLCB7XHJcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGF1dGhSZXNwb25zZS5lcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6IGF1dGhSZXNwb25zZS5lcnJvci5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBhdXRoUmVzcG9uc2UuZXJyb3JcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOaG9zdCBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6ICR7YXV0aFJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS5zZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIE5ob3N0IGF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwgZm9yIHVzZXI6JywgYXV0aFJlc3BvbnNlLnNlc3Npb24udXNlci5lbWFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZSBkYXRhIGZyb20gZGlyZWN0IGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGZXRjaGluZyB1c2VyIHByb2ZpbGUgZGF0YSBmcm9tIGRpcmVjdCBkYXRhYmFzZS4uLicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJTdG9yZS5maW5kVXNlckJ5RW1haWwoY3JlZGVudGlhbHMuaWRlbnRpZmllcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIHByb2ZpbGUgZm91bmQsIHJldHVybmluZyBjb21wbGV0ZSB1c2VyIGRhdGEnKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwaG9uZTogdXNlci5waG9uZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRCYWxhbmNlOiB1c2VyLndhbGxldEJhbGFuY2UgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICBib251c1dhbGxldDogdXNlci5ib251c1dhbGxldCB8fCAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUmVmZXJyYWxzOiB1c2VyLnRvdGFsUmVmZXJyYWxzIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWxDb2RlOiB1c2VyLnJlZmVycmFsQ29kZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiAhIXVzZXIuZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBOaG9zdCBhY2Nlc3MgdG9rZW4gZm9yIEdyYXBoUUwgcmVxdWVzdHNcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogYXV0aFJlc3BvbnNlLnNlc3Npb24uYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiBhdXRoUmVzcG9uc2Uuc2Vzc2lvbi5yZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFVzZXIgYXV0aGVudGljYXRlZCBidXQgbm8gcHJvZmlsZSBmb3VuZCBpbiB1c2VyU3RvcmUnKTtcclxuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGJhc2ljIHVzZXIgZGF0YSBmcm9tIE5ob3N0IHNlc3Npb25cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXV0aFJlc3BvbnNlLnNlc3Npb24udXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXV0aFJlc3BvbnNlLnNlc3Npb24udXNlci5lbWFpbCB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBhdXRoUmVzcG9uc2Uuc2Vzc2lvbi51c2VyLmRpc3BsYXlOYW1lIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRCYWxhbmNlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvbnVzV2FsbGV0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUmVmZXJyYWxzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZmVycmFsQ29kZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogISFhdXRoUmVzcG9uc2Uuc2Vzc2lvbi51c2VyLmVtYWlsVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgTmhvc3QgYWNjZXNzIHRva2VuIGZvciBHcmFwaFFMIHJlcXVlc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGF1dGhSZXNwb25zZS5zZXNzaW9uLmFjY2Vzc1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogYXV0aFJlc3BvbnNlLnNlc3Npb24ucmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmhvc3QgYXV0aCByZXNwb25zZSBtaXNzaW5nIHNlc3Npb24gb3IgdXNlcicpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOaG9zdCBhdXRoZW50aWNhdGlvbiBpbmNvbXBsZXRlIC0gbm8gc2Vzc2lvbiByZXR1cm5lZCcpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAobmhvc3RFcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaG9zdCBhdXRoZW50aWNhdGlvbiBmYWlsZWQgd2l0aCBlcnJvcjonLCBuaG9zdEVycm9yKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SEIEZhbGxpbmcgYmFjayB0byB1c2VyU3RvcmUgYXV0aGVudGljYXRpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KPre+4jyBOaG9zdCBhdXRoZW50aWNhdGlvbiBza2lwcGVkIChwaG9uZSBsb2dpbiBvciBORVhUX1BVQkxJQ19VU0VfTkhPU1Q9ZmFsc2UpJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZGlyZWN0IGRhdGFiYXNlIGF1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBVc2luZyBkaXJlY3QgZGF0YWJhc2UgYXV0aGVudGljYXRpb24gZm9yOicsIGNyZWRlbnRpYWxzLmlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJTdG9yZS5maW5kVXNlckJ5RW1haWxPclBob25lKGNyZWRlbnRpYWxzLmlkZW50aWZpZXIpO1xyXG5cclxuICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIFVzZXIgbm90IGZvdW5kIGluIGRhdGFiYXNlJyk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEZvciBkaXJlY3QgZGF0YWJhc2UsIHdlIG5lZWQgdG8gdmVyaWZ5IHBhc3N3b3JkIG1hbnVhbGx5XHJcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdXNlclN0b3JlLnZlcmlmeVBhc3N3b3JkQnlFbWFpbE9yUGhvbmUoY3JlZGVudGlhbHMuaWRlbnRpZmllciwgY3JlZGVudGlhbHMucGFzc3dvcmQpO1xyXG5cclxuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIEludmFsaWQgcGFzc3dvcmQnKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNyZWRlbnRpYWxzJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBEaXJlY3QgZGF0YWJhc2UgYXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bCcpO1xyXG4gICAgICAgICAgLy8gUmV0dXJuIHVzZXIgb2JqZWN0IGZvciBOZXh0QXV0aFxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICBuYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcclxuICAgICAgICAgICAgcGhvbmU6IHVzZXIucGhvbmUgfHwgJycsXHJcbiAgICAgICAgICAgIHdhbGxldEJhbGFuY2U6IHVzZXIud2FsbGV0QmFsYW5jZSB8fCAwLFxyXG4gICAgICAgICAgICBib251c1dhbGxldDogdXNlci5ib251c1dhbGxldCB8fCAwLFxyXG4gICAgICAgICAgICB0b3RhbFJlZmVycmFsczogdXNlci50b3RhbFJlZmVycmFscyB8fCAwLFxyXG4gICAgICAgICAgICByZWZlcnJhbENvZGU6IHVzZXIucmVmZXJyYWxDb2RlIHx8ICcnLFxyXG4gICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiAhIXVzZXIuZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICBdLFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiAnand0JyxcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcclxuICB9LFxyXG4gIGNhbGxiYWNrczoge1xyXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcclxuICAgICAgICB0b2tlbi5waG9uZSA9IHVzZXIucGhvbmU7XHJcbiAgICAgICAgdG9rZW4ud2FsbGV0QmFsYW5jZSA9IHVzZXIud2FsbGV0QmFsYW5jZTtcclxuICAgICAgICB0b2tlbi5ib251c1dhbGxldCA9IHVzZXIuYm9udXNXYWxsZXQ7XHJcbiAgICAgICAgdG9rZW4udG90YWxSZWZlcnJhbHMgPSB1c2VyLnRvdGFsUmVmZXJyYWxzO1xyXG4gICAgICAgIHRva2VuLnJlZmVycmFsQ29kZSA9IHVzZXIucmVmZXJyYWxDb2RlO1xyXG4gICAgICAgIHRva2VuLmVtYWlsVmVyaWZpZWQgPSAhIXVzZXIuZW1haWxWZXJpZmllZDtcclxuICAgICAgICAvLyBTdG9yZSBOaG9zdCB0b2tlbnNcclxuICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9ICh1c2VyIGFzIGFueSkuYWNjZXNzVG9rZW47XHJcbiAgICAgICAgdG9rZW4ucmVmcmVzaFRva2VuID0gKHVzZXIgYXMgYW55KS5yZWZyZXNoVG9rZW47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkIGFzIHN0cmluZztcclxuICAgICAgICBzZXNzaW9uLnVzZXIucGhvbmUgPSB0b2tlbi5waG9uZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLndhbGxldEJhbGFuY2UgPSB0b2tlbi53YWxsZXRCYWxhbmNlIGFzIG51bWJlcjtcclxuICAgICAgICBzZXNzaW9uLnVzZXIuYm9udXNXYWxsZXQgPSB0b2tlbi5ib251c1dhbGxldCBhcyBudW1iZXI7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnRvdGFsUmVmZXJyYWxzID0gdG9rZW4udG90YWxSZWZlcnJhbHMgYXMgbnVtYmVyO1xyXG4gICAgICAgIHNlc3Npb24udXNlci5yZWZlcnJhbENvZGUgPSB0b2tlbi5yZWZlcnJhbENvZGUgYXMgc3RyaW5nO1xyXG4gICAgICAgIHNlc3Npb24udXNlci5lbWFpbFZlcmlmaWVkID0gdG9rZW4uZW1haWxWZXJpZmllZCBhcyBib29sZWFuO1xyXG4gICAgICAgIC8vIEluY2x1ZGUgTmhvc3QgdG9rZW5zIGluIHNlc3Npb25cclxuICAgICAgICAoc2Vzc2lvbiBhcyBhbnkpLmFjY2Vzc1Rva2VuID0gdG9rZW4uYWNjZXNzVG9rZW47XHJcbiAgICAgICAgKHNlc3Npb24gYXMgYW55KS5yZWZyZXNoVG9rZW4gPSB0b2tlbi5yZWZyZXNoVG9rZW47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHNlc3Npb247XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogJy9sb2dpbicsXHJcbiAgICBlcnJvcjogJy9hdXRoL2Vycm9yJyxcclxuICB9LFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xyXG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwibmhvc3QiLCJ1c2VyU3RvcmUiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImlkZW50aWZpZXIiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsImNvbnNvbGUiLCJsb2ciLCJpc0VtYWlsIiwiaW5jbHVkZXMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfVVNFX05IT1NUIiwic3ViZG9tYWluIiwiTkVYVF9QVUJMSUNfTkhPU1RfU1VCRE9NQUlOIiwicmVnaW9uIiwiTkVYVF9QVUJMSUNfTkhPU1RfUkVHSU9OIiwidXNlTmhvc3QiLCJhdXRoUmVzcG9uc2UiLCJhdXRoIiwic2lnbkluIiwiZW1haWwiLCJoYXNFcnJvciIsImVycm9yIiwiaGFzU2Vzc2lvbiIsInNlc3Npb24iLCJoYXNVc2VyIiwidXNlciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJFcnJvciIsImZpbmRVc2VyQnlFbWFpbCIsImlkIiwiZGlzcGxheV9uYW1lIiwicGhvbmUiLCJ3YWxsZXRCYWxhbmNlIiwiYm9udXNXYWxsZXQiLCJ0b3RhbFJlZmVycmFscyIsInJlZmVycmFsQ29kZSIsImVtYWlsVmVyaWZpZWQiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsImRpc3BsYXlOYW1lIiwibmhvc3RFcnJvciIsImZpbmRVc2VyQnlFbWFpbE9yUGhvbmUiLCJpc1ZhbGlkIiwidmVyaWZ5UGFzc3dvcmRCeUVtYWlsT3JQaG9uZSIsInN0cmF0ZWd5IiwibWF4QWdlIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJwYWdlcyIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();